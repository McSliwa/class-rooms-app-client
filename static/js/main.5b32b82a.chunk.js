(this["webpackJsonpclass-room-app"]=this["webpackJsonpclass-room-app"]||[]).push([[0],{171:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var a=n(13),c=(n(166),n(1)),r=n(57),i=n.n(r),o=(n(171),n(20)),s=n.n(o),l=n(25),j=n(10),u=n(26),d=n.n(u),b=n(30),O=Object(b.b)(),p=n(142),h=n(275),x=n(117),f=n(18),m=n(277),g=n(278),v=n(279),S=n(280),A=n(266),y=n(281),I=n(140),w=n.n(I),k=n(138),C=n.n(k),E=n(139),T=n.n(E),z=n(23),R=function(){var e=z.API.URL_BASE_PROD;return{classrooms:e+z.API.URL_ALIAS_CLASSROOMS,types:e+z.API.URL_ALIAS_CLASSROOMS_TYPES,items:e+z.API.URL_ALIAS_ITEMS,filtering:e+z.API.URL_ALIAS_CLASSROOMS+z.API.URL_ALIAS_CLASSROOMS_FILTERING,reservations:e+z.API.URL_ALIAS_RESERVATIONS,reservationsUserOnly:e+z.API.URL_ALIAS_RESERVATIONS+z.API.URL_ALIAS_RESERVATIONS_USER}},F=function(){return{aliasHome:z.ROUTER.ALIAS_HOME_PROD,aliasClassrooms:z.ROUTER.ALIAS_CLASSROOMS_VIEW,aliasReservations:z.ROUTER.ALIAS_RESERVATIONS,aliasItemsAdm:z.ROUTER.ALIAS_ITEMS_ADMIN,aliasClassroomsAdm:z.ROUTER.ALIAS_CLASSROOMS_ADMIN}},L=n(39),_=n(0),W=F(),P={1:W.aliasHome,2:W.aliasClassrooms,3:W.aliasReservations,4:W.aliasClassroomsAdm,5:W.aliasItemsAdm};var U=function(e){var t=Object(f.f)(),n=Object(c.useState)(1),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(L.b)(),s=o.user,l=o.isAuthenticated,u=o.loginWithRedirect,d=o.logout;Object(c.useEffect)((function(){}));var b=function(e,n){t(P[n]),i(n)};return Object(_.jsx)(m.a,{component:g.a,variant:"elevation",align:"left",position:"sticky",sx:{color:"#007ECC",fontWeight:"bold",background:"linear-gradient(45deg, #E69A2E 20%,#FFC87A 90%)"},children:Object(_.jsxs)(v.a,{children:[Object(_.jsx)(S.a,{size:"large",edge:"start",color:"inherit",sx:{mr:2},onClick:function(e){b(0,5===r?1:r+1)},children:Object(_.jsx)(C.a,{})}),Object(_.jsxs)(A.a,{onChange:b,sx:{flexGrow:1},variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,value:r,children:[Object(_.jsx)(y.a,{label:"O aplikacji",value:1}),Object(_.jsx)(y.a,{label:"Szukaj",value:2}),Object(_.jsx)(y.a,{label:"Rezerwacje",value:3}),Object(_.jsx)(y.a,{label:"Pomieszczenia",value:4}),Object(_.jsx)(y.a,{label:"Wyposa\u017cenie",value:5})]}),l?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(S.a,{color:"inherit",edge:"end",size:"large",sx:{mr:1},onClick:d,children:Object(_.jsx)(T.a,{sx:{fontSize:40}})}),Object(_.jsx)("img",{src:s.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"40"})]}):Object(_.jsx)(S.a,{color:"inherit",edge:"end",size:"large",onClick:u,children:Object(_.jsx)(w.a,{sx:{fontSize:40}})})]})})};var D=function(){return Object(_.jsx)(g.a,{elevation:24,sx:{m:1,p:2},align:"center",children:"Witaj w aplikacji do wyszukiwania i zarz\u0105dzania salami zaj\u0119ciowymi."})},N=n(19),q=n(272),M=n(265),B=n(284),V=n(274),H=n(283),G=n(285),Z=n(286),J=n(287),Y=n(288),K=n(289),$=n(268),Q=n(290),X=n(291),ee=n(83),te=n.n(ee),ne=n(72),ae=n.n(ne),ce=n(269),re=n(262),ie=n(255),oe=n(263),se=n(73),le=n.n(se),je=n(267),ue=n(106),de=n.n(ue),be=n(107),Oe=n.n(be),pe=R();var he=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)({dateStart:new Date(Date.now()),dateEnd:new Date(Date.now()),capacity:0,type:"",minEquipment:[]}),u=Object(j.a)(o,2),b=u[0],O=u[1],p=Object(c.useState)(0),h=Object(j.a)(p,2),x=h[0],f=h[1],m=Object(c.useState)([]),v=Object(j.a)(m,2),S=v[0],A=v[1],y=Object(c.useState)([]),I=Object(j.a)(y,2),w=I[0],k=I[1];Object(c.useEffect)((function(){A(e.classTypes),E()}),[e.classTypes]);var C=Object(L.b)().getAccessTokenSilently,E=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(pe.items,{headers:{"Access-ConTableRowol-Allow-Origin":!0}}).then((function(e){k(e.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{quantity:1})})))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:return t=e.sent,e.next=6,d.a.post(pe.filtering,{start:b.dateStart.toISOString(),end:b.dateEnd.toISOString(),capacityMin:b.capacity,type:""!==b.type?S.find((function(e){return e.label===b.type})).value:"",minEquipment:b.minEquipment.map((function(e){return{itemId:e.id,quantity:e.quantity}}))},{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(e){i(e.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})})))}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:return t=e.sent,e.next=6,d.a.post(pe.reservations,{start:b.dateStart.toISOString(),end:b.dateEnd.toISOString(),classroomId:r.find((function(e){return e.selected})).id},{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(){T()})).catch((function(e){console.log(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(g.a,{elevation:24,sx:{p:2,flexGrow:1,m:1},children:Object(_.jsxs)(q.a,{container:!0,spacing:2,children:[Object(_.jsxs)(ie.b,{dateAdapter:oe.a,locale:je.a,children:[Object(_.jsx)(q.a,{item:!0,md:2,children:Object(_.jsx)(re.a,{OpenPickerButtonProps:{color:"primary"},showTodayButton:!0,todayText:"Now",fullWidth:!0,label:"Data i godzina rozpocz\u0119cia",value:b.dateStart,onChange:function(e){return O((function(t){return Object(a.a)(Object(a.a)({},t),{},{dateStart:e})}))},renderInput:function(e){return Object(_.jsx)(M.a,Object(a.a)({size:"small"},e))},disableMaskedInput:!0,minDate:new Date(Date.now()),minDateTime:new Date(Date.now())})}),Object(_.jsx)(q.a,{item:!0,md:2,children:Object(_.jsx)(re.a,{OpenPickerButtonProps:{color:"primary"},showTodayButton:!0,todayText:"Now",fullWidth:!0,label:"Data i godzina zako\u0144czenia",value:b.dateEnd,onChange:function(e){return O((function(t){return Object(a.a)(Object(a.a)({},t),{},{dateEnd:e})}))},renderInput:function(e){return Object(_.jsx)(M.a,Object(a.a)({size:"small"},e))},disableMaskedInput:!0,minDate:new Date(Date.now()),minDateTime:new Date(Date.now())})})]}),Object(_.jsx)(q.a,{item:!0,md:2,children:Object(_.jsx)(ce.a,{disablePortal:!0,size:"small",fullWidth:!0,popupIcon:Object(_.jsx)(ae.a,{color:"primary",fontSize:"small"}),clearIcon:Object(_.jsx)(le.a,{color:"primary",fontSize:"small"}),options:e.classTypes,inputValue:b.type,onInputChange:function(e,t){O((function(e){return Object(a.a)(Object(a.a)({},e),{},{type:t})}))},isOptionEqualToValue:function(e,t){return e.label===t.label},renderInput:function(e){return Object(_.jsx)(M.a,Object(a.a)(Object(a.a)({},e),{},{label:"Typ",variant:"outlined"}))}})}),Object(_.jsx)(q.a,{item:!0,md:2,children:Object(_.jsx)(M.a,{label:"Minimalna pojemno\u015b\u0107",variant:"outlined",size:"small",sx:{mr:2},fullWidth:!0,InputProps:{endAdornment:Object(_.jsx)(B.a,{position:"end",children:Object(_.jsx)(te.a,{color:"primary",fontSize:"small"})})},value:b.capacity,InputLabelProps:{shrink:!0},onChange:function(e){return O((function(t){return Object(a.a)(Object(a.a)({},t),{},{capacity:e.target.value})}))}})}),Object(_.jsx)(q.a,{item:!0,md:3,children:Object(_.jsx)(ce.a,{variant:"outlined",size:"small",fullWidth:!0,multiple:!0,disableCloseOnSelect:!0,disablePortal:!0,filterSelectedOptions:!0,popupIcon:Object(_.jsx)(ae.a,{color:"primary",fontSize:"small"}),clearIcon:Object(_.jsx)(le.a,{color:"primary",fontSize:"small"}),options:w,value:b.minEquipment,onChange:function(e,t){return O((function(e){return Object(a.a)(Object(a.a)({},e),{},{minEquipment:t})}))},getOptionLabel:function(e){return"".concat(e.name)},isOptionEqualToValue:function(e,t){return e.id===t.id},renderOption:function(e,t){return Object(c.createElement)("li",Object(a.a)(Object(a.a)({},e),{},{key:t.id}),t.name)},renderInput:function(e){return Object(_.jsx)(M.a,Object(a.a)(Object(a.a)({},e),{},{label:"Wyposa\u017cenie: minimalna ilo\u015b\u0107",placeholder:"Wi\u0119cej"}))},renderTags:function(e,t){return e.map((function(e,n){return Object(_.jsx)(V.a,Object(a.a)(Object(a.a)({},t({index:n})),{},{variant:"filled",size:"small",clickable:!0,label:"".concat(e.name,": ").concat(e.quantity),icon:Object(_.jsx)(de.a,{color:"secondary"}),deleteIcon:Object(_.jsx)(Oe.a,{color:"secondary"}),onDelete:function(t){!function(e,t){var n=Object(N.a)(b.minEquipment),c=n.indexOf(t);1===t.quantity?n.splice(c,1):n[c].quantity-=1,O((function(e){return Object(a.a)(Object(a.a)({},e),{},{minEquipment:n})}))}(0,e)},onClick:function(t){!function(e,t){var n=Object(N.a)(b.minEquipment),c=n.indexOf(t);n[c].quantity+=1,O((function(e){return Object(a.a)(Object(a.a)({},e),{},{minEquipment:n})}))}(0,e)}}))}))}})}),Object(_.jsx)(q.a,{item:!0,md:1,children:Object(_.jsx)(H.a,{variant:"contained",color:"primary",sx:{mr:2,color:"#FFFFFF"},onClick:T,children:"Szukaj"})})]})}),Object(_.jsx)(g.a,{elevation:24,sx:{p:2,flexGrow:1,m:1},children:Object(_.jsx)(G.a,{component:g.a,children:Object(_.jsxs)(Z.a,{checboxselection:"true",sx:{minWidTableCell:1e3},children:[Object(_.jsx)(J.a,{children:Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"primary",indeterminate:x>0&&x<r.length,checked:r.length>0&&x===r.length,onChange:function(e){e.target.checked?(f(r.length),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!0})})))):(f(0),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))))}})}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Numer"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Nazwa"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Typ"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Pojemno\u015b\u0107"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Wyposa\u017cenie: ilo\u015b\u0107"})]})}),Object(_.jsx)(Q.a,{children:r.map((function(t){return Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"secondary",checked:t.selected,onChange:function(e){!function(e,t){t.selected=e.target.checked,i(Object(N.a)(r)),e.target.checked?f(x+1):f(x-1)}(e,t)}})}),Object(_.jsx)(K.a,{width:150,children:t.id}),Object(_.jsx)(K.a,{width:200,children:t.name}),Object(_.jsx)(K.a,{width:100,children:e.classTypes.length>0?e.classTypes.find((function(e){return e.value===t.typeObjectId})).label:t.typeObjectId}),Object(_.jsx)(K.a,{width:100,children:t.capacity}),Object(_.jsx)(K.a,{width:450,children:Object(_.jsx)(X.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.classroomItems.map((function(e){return Object(_.jsx)(V.a,{label:"".concat(w.length>0?w.find((function(t){return t.id===e.itemId})).name:e.itemId,": ").concat(e.quantity),size:"small"},e.itemId)}))})})]},t.id)}))})]})})}),Object(_.jsx)(g.a,{elevation:24,sx:{m:1,p:2,pl:10},align:"left",children:Object(_.jsx)(H.a,{variant:"contained",color:"secondary",sx:{mr:2,color:"#FFFFFF"},disabled:1!==x,onClick:z,children:"Zarezerwuj"})})]})},xe=n(292),fe=R();var me=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(0),u=Object(j.a)(o,2),b=u[0],O=u[1],p=Object(c.useState)(),h=Object(j.a)(p,2),x=h[0],f=h[1];Object(c.useEffect)((function(){v()}),[]);var m=Object(L.b)().getAccessTokenSilently,v=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(fe.reservations,{headers:{"Access-ConTableRowol-Allow-Origin":!0}});case 2:t=e.sent,i(t.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,e.next=6,d.a.get(fe.reservationsUserOnly,{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(e){i(e.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})})))}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:t=e.sent,r.filter((function(e){return!0===e.selected})).forEach((function(e){d.a.delete("".concat(fe.reservations,"/").concat(e.id),{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(){S()}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(g.a,{elevation:24,sx:{p:2,flexGrow:1,m:1},children:Object(_.jsxs)(q.a,{container:!0,spacing:2,children:[Object(_.jsx)(q.a,{item:!0,md:3,children:Object(_.jsx)(xe.a,{label:"Moje rezerwacje",control:Object(_.jsx)($.a,{checked:x,onChange:function(e){f(e.target.checked),e.target.checked?S():v()},color:"primary"})})}),Object(_.jsx)(q.a,{item:!0,md:3})]})}),Object(_.jsx)(g.a,{elevation:24,sx:{p:2,flexGrow:1,m:1},children:Object(_.jsx)(G.a,{component:g.a,children:Object(_.jsxs)(Z.a,{checboxselection:"true",sx:{minWidTableCell:500},children:[Object(_.jsx)(J.a,{children:Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"primary",indeterminate:b>0&&b<r.length,checked:r.length>0&&b===r.length,onChange:function(e){e.target.checked?(O(r.length),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!0})})))):(O(0),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))))}})}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Numer pomieszczenia"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Rozpocz\u0119cie"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Zako\u0144czenie"})]})}),Object(_.jsx)(Q.a,{children:r.map((function(e){return Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"secondary",checked:e.selected,onChange:function(t){var n;n=t,e.selected=n.target.checked,i(Object(N.a)(r)),n.target.checked?O(b+1):O(b-1)}})}),Object(_.jsx)(K.a,{width:"300",children:e.classroomId}),Object(_.jsx)(K.a,{children:e.start}),Object(_.jsx)(K.a,{width:"300",children:e.end})]},e.id)}))})]})})}),Object(_.jsx)(g.a,{elevation:24,sx:{m:1,p:2},align:"left",children:Object(_.jsxs)(q.a,{container:!0,spacing:2,children:[Object(_.jsx)(q.a,{item:!0,md:3,children:Object(_.jsx)(H.a,{variant:"contained",color:"secondary",sx:{mr:2,color:"#FFFFFF"},onClick:A,disabled:!x,children:x?"Usu\u0144":'Zaznacz "Moje rezerwacje", aby usun\u0105\u0107.'})}),Object(_.jsx)(q.a,{item:!0,md:3})]})})]})},ge=n(293),ve=n(84),Se=n.n(ve),Ae=R();var ye=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)({classId:"",className:"",classType:"",classCapacity:0}),u=Object(j.a)(o,2),b=u[0],O=u[1],p=Object(c.useState)(0),h=Object(j.a)(p,2),x=h[0],f=h[1],m=Object(c.useState)([]),v=Object(j.a)(m,2),S=v[0],A=v[1],y=Object(c.useState)([]),I=Object(j.a)(y,2),w=I[0],k=I[1],C=Object(c.useState)([]),E=Object(j.a)(C,2),T=E[0],z=E[1];Object(c.useEffect)((function(){A(e.classTypes),F(),W()}),[e.classTypes]);var R=Object(L.b)().getAccessTokenSilently,F=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Ae.classrooms,{headers:{"Access-ConTableRowol-Allow-Origin":!0}});case 2:t=e.sent,i(t.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Ae.items,{headers:{"Access-ConTableRowol-Allow-Origin":!0}}).then((function(e){k(e.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{quantity:1})})))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,d.a.post(Ae.classrooms,{id:b.classId,name:b.className,typeObjectId:S.find((function(e){return e.label===b.classType})).value,capacity:b.classCapacity,classroomItems:T.map((function(e){return{itemId:e.id,quantity:e.quantity}}))},{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(e){i([].concat(Object(N.a)(r),[Object(a.a)(Object(a.a)({},e.data),{},{selected:!1})]))})).catch((function(e){console.log(e)})),O({classId:"",className:"",classCapacity:0,classType:""}),z([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,r.filter((function(e){return!0===e.selected})).forEach((function(e){d.a.delete("".concat(Ae.classrooms,"/").concat(e.id),{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(){F()}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(g.a,{elevation:24,sx:{p:2,flexGrow:1,m:1},children:Object(_.jsx)(G.a,{component:g.a,children:Object(_.jsxs)(Z.a,{checboxselection:"true",sx:{minWidTableCell:1e3},children:[Object(_.jsx)(J.a,{children:Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"primary",indeterminate:x>0&&x<r.length,checked:r.length>0&&x===r.length,onChange:function(e){e.target.checked?(f(r.length),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!0})})))):(f(0),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))))}})}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Numer"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Nazwa"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Typ"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Pojemno\u015b\u0107"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Wyposa\u017cenie: ilo\u015b\u0107"})]})}),Object(_.jsx)(Q.a,{children:r.map((function(t){return Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"secondary",checked:t.selected,onChange:function(e){!function(e,t){t.selected=e.target.checked,i(Object(N.a)(r)),e.target.checked?f(x+1):f(x-1)}(e,t)}})}),Object(_.jsx)(K.a,{width:150,children:t.id}),Object(_.jsx)(K.a,{width:200,children:t.name}),Object(_.jsx)(K.a,{width:100,children:e.classTypes.length>0?e.classTypes.find((function(e){return e.value===t.typeObjectId})).label:t.typeObjectId}),Object(_.jsx)(K.a,{width:100,children:t.capacity}),Object(_.jsx)(K.a,{width:450,children:Object(_.jsx)(X.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.classroomItems.map((function(e){return Object(_.jsx)(V.a,{label:"".concat(w.length>0?w.find((function(t){return t.id===e.itemId})).name:e.itemId,": ").concat(e.quantity),size:"small"},e.itemId)}))})})]},t.id)}))}),Object(_.jsx)(ge.a,{children:Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox"}),Object(_.jsx)(K.a,{children:Object(_.jsx)(M.a,{id:"outlined-basic",label:"Nowy numer",variant:"outlined",required:!0,size:"small",fullWidth:!0,InputProps:{endAdornment:Object(_.jsx)(B.a,{position:"end",children:Object(_.jsx)(te.a,{color:"primary"})})},value:b.classId,onChange:function(e){return O((function(t){return Object(a.a)(Object(a.a)({},t),{},{classId:e.target.value})}))}})}),Object(_.jsx)(K.a,{children:Object(_.jsx)(M.a,{id:"outlined-basic",label:"Nazwa",variant:"outlined",required:!0,size:"small",fullWidth:!0,InputProps:{endAdornment:Object(_.jsx)(B.a,{position:"end",children:Object(_.jsx)(Se.a,{color:"primary"})})},value:b.className,onChange:function(e){return O((function(t){return Object(a.a)(Object(a.a)({},t),{},{className:e.target.value})}))}})}),Object(_.jsx)(K.a,{children:Object(_.jsx)(ce.a,{id:"classrooms-types",disablePortal:!0,size:"small",fullWidth:!0,popupIcon:Object(_.jsx)(ae.a,{color:"primary",fontSize:"small"}),clearIcon:Object(_.jsx)(le.a,{color:"primary",fontSize:"small"}),options:e.classTypes,inputValue:b.classType,onInputChange:function(e,t){O((function(e){return Object(a.a)(Object(a.a)({},e),{},{classType:t})}))},isOptionEqualToValue:function(e,t){return e.label===t.label},renderInput:function(e){return Object(_.jsx)(M.a,Object(a.a)(Object(a.a)({},e),{},{label:"Typ",variant:"outlined",required:!0}))}})}),Object(_.jsx)(K.a,{children:Object(_.jsx)(M.a,{id:"outlined-basic",label:"Pojemno\u015b\u0107",variant:"outlined",required:!0,size:"small",fullWidth:!0,InputProps:{endAdornment:Object(_.jsx)(B.a,{position:"end",children:Object(_.jsx)(te.a,{color:"primary"})})},value:b.classCapacity,onChange:function(e){return O((function(t){return Object(a.a)(Object(a.a)({},t),{},{classCapacity:e.target.value})}))}})}),Object(_.jsx)(K.a,{children:Object(_.jsx)(ce.a,{variant:"outlined",size:"small",fullWidth:!0,multiple:!0,disableCloseOnSelect:!0,disablePortal:!0,filterSelectedOptions:!0,popupIcon:Object(_.jsx)(ae.a,{color:"primary",fontSize:"small"}),clearIcon:Object(_.jsx)(le.a,{color:"primary",fontSize:"small"}),options:w,value:T,onChange:function(e,t){return z(t)},getOptionLabel:function(e){return"".concat(e.name)},isOptionEqualToValue:function(e,t){return e.id===t.id},renderOption:function(e,t){return Object(c.createElement)("li",Object(a.a)(Object(a.a)({},e),{},{key:t.id}),t.name)},renderInput:function(e){return Object(_.jsx)(M.a,Object(a.a)(Object(a.a)({},e),{},{label:"Wyposa\u017cenie",placeholder:"Wi\u0119cej"}))},renderTags:function(e,t){return e.map((function(e,n){return Object(_.jsx)(V.a,Object(a.a)(Object(a.a)({},t({index:n})),{},{variant:"filled",size:"small",clickable:!0,label:"".concat(e.name,": ").concat(e.quantity),icon:Object(_.jsx)(de.a,{color:"secondary"}),deleteIcon:Object(_.jsx)(Oe.a,{color:"secondary"}),onDelete:function(t){!function(e,t){var n=Object(N.a)(T),a=n.indexOf(t);1===t.quantity?n.splice(a,1):n[a].quantity-=1,z(n)}(0,e)},onClick:function(t){!function(e,t){var n=Object(N.a)(T),a=n.indexOf(t);n[a].quantity+=1,z(n)}(0,e)}}))}))}})})]})})]})})}),Object(_.jsxs)(g.a,{elevation:24,sx:{m:1,p:2,pl:10},align:"left",children:[Object(_.jsx)(H.a,{variant:"contained",color:"primary",sx:{mr:2,color:"#FFFFFF"},onClick:P,children:0===x?"Dodaj":"Zapisz"}),Object(_.jsx)(H.a,{variant:"contained",color:"secondary",sx:{mr:2,color:"#FFFFFF"},disabled:0===x,onClick:U,children:"Usu\u0144"}),Object(_.jsx)(H.a,{variant:"contained",color:"primary",sx:{mr:2,color:"#FFFFFF"},disabled:1!==x,children:"Edytuj"})]})]})},Ie=R();var we=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(0),u=Object(j.a)(o,2),b=u[0],O=u[1],p=Object(c.useState)({name:"",description:""}),h=Object(j.a)(p,2),x=h[0],f=h[1],m=Object(L.b)().getAccessTokenSilently;Object(c.useEffect)((function(){v()}),[]);var v=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Ie.items,{headers:{"Access-ConTableRowol-Allow-Origin":!0}});case 2:t=e.sent,i(t.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,e.next=6,d.a.post(Ie.items,{name:x.name,description:x.description},{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(e){i([].concat(Object(N.a)(r),[Object(a.a)(Object(a.a)({},e.data),{},{selected:!1})]))})).catch((function(e){console.log(e)}));case 6:f({name:"",description:""}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:t=e.sent,r.filter((function(e){return!0===e.selected})).forEach((function(e){d.a.delete("".concat(Ie.items,"/").concat(e.id),{headers:{Authorization:"Bearer ".concat(t),"Access-ConTableRowol-Allow-Origin":!0}}).then((function(){v()})).catch((function(e){console.log(e)}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(g.a,{elevation:24,sx:{p:2,flexGrow:1,m:1},children:Object(_.jsx)(G.a,{component:g.a,children:Object(_.jsxs)(Z.a,{checboxselection:"true",sx:{minWidTableCell:850},children:[Object(_.jsx)(J.a,{children:Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"primary",indeterminate:b>0&&b<r.length,checked:r.length>0&&b===r.length,onChange:function(e){e.target.checked?(O(r.length),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!0})})))):(O(0),i(r.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{selected:!1})}))))}})}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Nazwa"}),Object(_.jsx)(K.a,{sx:{fontWeight:"bold",fontSize:16},children:"Opis"})]})}),Object(_.jsx)(Q.a,{children:r.map((function(e){return Object(_.jsxs)(Y.a,{children:[Object(_.jsx)(K.a,{padding:"checkbox",children:Object(_.jsx)($.a,{color:"secondary",inputProps:{"aria-label":"select all desserts"},checked:e.selected,onChange:function(t){var n;n=t,e.selected=n.target.checked,i(Object(N.a)(r)),n.target.checked?O(b+1):O(b-1)}})}),Object(_.jsx)(K.a,{width:"200",children:e.name}),Object(_.jsx)(K.a,{width:"400",children:e.description})]},e.id)}))}),Object(_.jsx)(ge.a,{children:Object(_.jsxs)(Y.a,{sx:{visibility:"visible"},children:[Object(_.jsx)(K.a,{padding:"checkbox"}),Object(_.jsx)(K.a,{children:Object(_.jsx)(M.a,{id:"outlined-basic",label:"Nazwa nowego przedmiotu",variant:"outlined",required:!0,size:"small",fullWidth:!0,InputProps:{endAdornment:Object(_.jsx)(B.a,{position:"end",children:Object(_.jsx)(Se.a,{color:"primary"})})},value:x.name,onChange:function(e){return f((function(t){return Object(a.a)(Object(a.a)({},t),{},{name:e.target.value})}))}})}),Object(_.jsx)(K.a,{children:Object(_.jsx)(M.a,{id:"outlined-basic",label:"Opis",variant:"outlined",size:"small",fullWidth:!0,InputProps:{endAdornment:Object(_.jsx)(B.a,{position:"end",children:Object(_.jsx)(Se.a,{color:"primary"})})},value:x.description,onChange:function(e){return f((function(t){return Object(a.a)(Object(a.a)({},t),{},{description:e.target.value})}))}})})]})})]})})}),Object(_.jsxs)(g.a,{elevation:24,sx:{m:1,p:2,pl:10},align:"left",children:[Object(_.jsx)(H.a,{variant:"contained",color:"primary",sx:{mr:2,color:"#FFFFFF"},onClick:S,children:"Dodaj"}),Object(_.jsx)(H.a,{variant:"contained",color:"secondary",sx:{mr:2,color:"#FFFFFF"},onClick:A,children:"Usu\u0144"}),Object(_.jsx)(H.a,{variant:"contained",color:"primary",sx:{mr:2,color:"#FFFFFF"},disabled:1!==b,children:"Edytuj"})]})]})},ke=n(261),Ce=F(),Ee=R(),Te=Object(p.a)({palette:{mode:"dark",primary:{main:"#2E9FE6"},secondary:{main:"#E69A2E"}},components:{MuiSelect:{styleOverrides:{icon:{color:"#2E9FE6",fontSize:"22px"}}}}});var ze=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){r()}),[]);var r=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Ee.types,{headers:{"Access-ConTableRowol-Allow-Origin":!0}});case 2:t=e.sent,a(t.data.map((function(e){return{label:e.labelLangPl,value:e.id}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(h.a,{theme:Te,children:Object(_.jsxs)(x.a,{history:O,children:[Object(_.jsx)(ke.a,{}),Object(_.jsx)(U,{}),Object(_.jsxs)(f.c,{children:[Object(_.jsx)(f.a,{exact:!0,path:Ce.aliasHome,element:Object(_.jsx)(D,{})}),Object(_.jsx)(f.a,{exact:!0,path:Ce.aliasClassrooms,element:Object(_.jsx)(he,{classTypes:n})}),Object(_.jsx)(f.a,{exact:!0,path:Ce.aliasReservations,element:Object(_.jsx)(me,{})}),Object(_.jsx)(f.a,{exact:!0,path:Ce.aliasClassroomsAdm,element:Object(_.jsx)(ye,{classTypes:n})}),Object(_.jsx)(f.a,{exact:!0,path:Ce.aliasItemsAdm,element:Object(_.jsx)(we,{})})]})]})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,294)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe=function(){var e=z.AUTH0.AUDIENCE&&"YOUR_API_IDENTIFIER"!==z.AUTH0.AUDIENCE?z.AUTH0.AUDIENCE:null;return Object(a.a)({domain:z.AUTH0.DOMAIN,clientId:z.AUTH0.CLIENTID},e?{audience:e}:null)}(),Le=Object(a.a)(Object(a.a)({domain:Fe.domain,clientId:Fe.clientId},Fe.audience?{audience:Fe.audience}:null),{},{redirectUri:window.location.origin,onRedirectCallback:function(e){O.push(e&&e.returnTo?e.returnTo:window.location.pathname)}});i.a.render(Object(_.jsx)(L.a,Object(a.a)(Object(a.a)({},Le),{},{children:Object(_.jsx)(ze,{})})),document.getElementById("root")),Re(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},23:function(e){e.exports=JSON.parse('{"AUTH0":{"DOMAIN":"classroomsapp.eu.auth0.com","CLIENTID":"M2KjcWnHWuPar7hhCP63qu52pvkiebqx","AUDIENCE":"https://classroomsapi/api"},"API":{"URL_BASE_DEV":"https://localhost:5001/api","URL_BASE_PROD":"https://classrooms-client.azurewebsites.net/api","URL_ALIAS_CLASSROOMS":"/Classrooms","URL_ALIAS_CLASSROOMS_TYPES":"/ClassroomType","URL_ALIAS_ITEMS":"/Items","URL_ALIAS_CLASSROOMS_FILTERING":"/filtering","URL_ALIAS_RESERVATIONS":"/Reservations","URL_ALIAS_RESERVATIONS_USER":"/user"},"ROUTER":{"ALIAS_HOME":"/","ALIAS_HOME_PROD":"/class-rooms-app-client","ALIAS_CLASSROOMS_VIEW":"/classrooms","ALIAS_RESERVATIONS":"/reservations","ALIAS_CLASSROOMS_ADMIN":"/adm-classrooms","ALIAS_ITEMS_ADMIN":"/adm-items"}}')}},[[202,1,2]]]);
//# sourceMappingURL=main.5b32b82a.chunk.js.map